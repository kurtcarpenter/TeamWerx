<md-toolbar class="md-hue-2">
  <div class="md-toolbar-tools">
    <a href="/#!/"><h2>TeamWerx</h2></a>
    <span flex></span>
    <!-- TODO: pull class name -->
    <h2>CS 2340J</h2>
    <span flex></span>
    <h3>{{ user.email }}</h3>
  </div>
</md-toolbar>

<div class='md-padding' layout="row" layout-wrap>
  <md-content flex layout-padding>
    <md-grid-list md-cols="3"
        md-row-height="1:1"
        md-gutter="1px">
      <md-grid-tile layout="row" layout-align="center center" flex="33"
        ng-repeat="team in ctrl.teams"
        md-colspan="1"
        md-rowspan="1"
        md-theme="default">
        
        <!-- TODO: Join modal <a href="/#!//"> -->
        <md-card layout="row" flex="100" md-theme="default" md-theme-watch>
          <md-card-title >
            <md-card-title-text >
              <span class="md-headline">{{ team.name }}</span>
              <span class="md-subhead">{{team.members.length}} / {{ team.capacity }} members</span>
            </md-card-title-text>
          </md-card-title>
          <md-card-content layout-align="center center" layout="column" md-colors="::{backgroundColor: 'default-background-300'}" ng-click="ctrl.showJoinTeam($event, team)">
            <div ng-class="{ disabled: team.members.length >= team.capacity}">
              <span flex="50">{{ team.members.length < team.capacity ? "&gt&gt" : ""}}</span>
              <br>
              <span>{{ team.members.length < team.capacity ? "Join" : "-Full-"}}</span>
            </div>
          </md-card-content>
        </md-card></a>
      </md-grid-tile>

      <md-grid-tile md-colspan="1" md-rowspan="1">
        <md-card flex="100" md-theme="default" layout="column" layout-align="center" md-colors="::{backgroundColor: 'default-background-300'}" md-theme-watch ng-click="ctrl.showCreateTeam($event)">
          <md-card-title md-colors="::{backgroundColor: 'default-background-300'}">
            <md-card-title-text >
              <span class="md-headline">+</span>
              <span class="md-headline">Create New Team</span>
            </md-card-title-text>
          </md-card-title>
        </md-card>
      </md-grid-tile>

    </md-grid-list>
  </md-content>
</div>